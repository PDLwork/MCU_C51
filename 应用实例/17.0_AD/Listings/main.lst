C51 COMPILER V9.54   MAIN                                                                  08/28/2021 23:37:22 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\software\keil5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          /*******************************************************************************
   2          实现功能 ：     XPT2046实现AD转换
   3                                  通过分压的方式读取出电位器、热敏电阻、光敏电阻的分压值
   4                                  通过LCD1602显示
   5                                  
   6          引脚定义 ：     LCD_RS  →      P2^6
   7                                  LCD_RW  →      P2^5
   8                                  LCD_E   →      P2^7
   9                                  LCD_DataPort    →      P0
  10                                  
  11                                  XPT2046_DCLK    →      P2^0
  12                                  XPT2046_CS              →      P2^1
  13                                  XPT2046_DIN             →      P2^2
  14                                  XPT2046_DOUT    →      P2^3
  15          *******************************************************************************/
  16          
  17          #include <REGX52.H>
  18          #include "UserDef.H"
  19          #include "LCD1602.H"
  20          #include "XPT2046.H"
  21          #include "Delay.H"
  22                  
  23          INT16U ADValue;
  24          
  25          /*******************************************************************************
  26          * 函 数 名         :  main （主函数）
  27          * 函数功能                 :  主程循环执行
  28          * 输    入         :  无
  29          * 输    出         :  无
  30          *******************************************************************************/
  31          void main(void)
  32          {
  33   1              LCD_Initialization();
  34   1              LCD_ShowString(1, 1, "ADJ   NTC   RG");         //查阅原理图分别测电位器、热敏电阻、光敏电阻的AD转换值
  35   1              while(1)
  36   1              {
  37   2                      ADValue = XPT2046_ReadAD(XPT2046_XP_8);         //读取对应接口的AD值
  38   2                      LCD_ShowNumber(2, 1, ADValue, 3);
  39   2                      
  40   2                      ADValue = XPT2046_ReadAD(XPT2046_YP_8);
  41   2                      LCD_ShowNumber(2, 7, ADValue, 3);
  42   2                      
  43   2                      ADValue = XPT2046_ReadAD(XPT2046_VBAT_8);
  44   2                      LCD_ShowNumber(2, 13, ADValue, 3);
  45   2              }
  46   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     87    ----
   CONSTANT SIZE    =     15    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
C51 COMPILER V9.54   MAIN                                                                  08/28/2021 23:37:22 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
